<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ITC YiPPee! बाजार सर्वेक्षण</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #f7f7f7;
            min-height: 100vh;
            padding: 24px;
            margin: 0;
        }
        
        .survey-container {
            max-width: 760px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .survey-header {
            background: #DC5A41;
            color: white;
            padding: 32px;
            text-align: center;
        }

        .survey-header::before {
            display: none;
        }

        @keyframes shimmer {
            display: none;
        }
        
        .survey-header h1 {
            font-size: 28px;
            margin-bottom: 8px;
            font-weight: 600;
            position: relative;
            z-index: 1;
        }

        .survey-header p {
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
            margin: 0;
        }
        
        .survey-body {
            padding: 32px;
        }
        
        .question-container {
            display: none;
            animation: fadeIn 0.3s ease;
        }
        
        .question-container.active {
            display: block;
        }
        
        @keyframes slideInRight {
            display: none;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(8px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .question {
            font-size: 20px;
            color: #222;
            margin-bottom: 24px;
            line-height: 1.4;
            font-weight: 600;
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .option {
            display: flex;
            align-items: center;
            padding: 16px;
            border: 1px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            background: white;
        }

        .option::before {
            display: none;
        }
        
        .option:hover {
            border-color: #DC5A41;
            background: #fdf7f6;
        }

        .option:hover::before {
            display: none;
        }
        
        .option.selected {
            border-color: #DC5A41;
            background: #DC5A41;
            color: white;
        }

        .option.selected label {
            color: white;
        }
        
        .option input[type="checkbox"],
        .option input[type="radio"] {
            margin-right: 12px;
            accent-color: #DC5A41;
        }

        .option.selected input[type="checkbox"],
        .option.selected input[type="radio"] {
            accent-color: white;
        }
        
        .option label {
            cursor: pointer;
            flex: 1;
            font-size: 16px;
            font-weight: 400;
        }
        
        .navigation {
            display: flex;
            justify-content: flex-end;
            margin-top: 32px;
            padding-top: 24px;
            border-top: 1px solid #eee;
        }
        
        .btn {
            padding: 14px 24px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 600;
        }

        .btn::before {
            display: none;
        }

        .btn:hover::before {
            display: none;
        }
        
        .btn-primary {
            background: #DC5A41;
            color: white;
        }
        
        .btn-primary:hover {
            background: #c94d35;
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
        }
        
        .progress-bar {
            height: 4px;
            background: #f0f0f0;
            margin-bottom: 0;
        }

        .progress-bar::before {
            display: none;
        }

        @keyframes loading {
            display: none;
        }
        
        .progress-fill {
            height: 100%;
            background: #DC5A41;
            transition: width 0.3s ease;
            width: 0%;
        }

        .progress-fill::after {
            display: none;
        }

        @keyframes progress-shimmer {
            display: none;
        }
        
        .termination-message,
        .completion-message {
            text-align: center;
            padding: 32px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .termination-message {
            background: #fef2f2;
            color: #dc2626;
            border: 1px solid #fecaca;
        }

        .completion-message {
            background: #f0f9ff;
            color: #0369a1;
            border: 1px solid #bae6fd;
        }

        .termination-message h2,
        .completion-message h2 {
            font-size: 24px;
            margin-bottom: 12px;
            font-weight: 600;
        }

        .termination-message p,
        .completion-message p {
            font-size: 16px;
            line-height: 1.5;
            margin-bottom: 8px;
        }
        
        .other-input {
            margin-top: 12px;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            width: 100%;
            display: none;
            font-size: 14px;
            background: white;
        }

        .other-input:focus {
            outline: none;
            border-color: #DC5A41;
            box-shadow: 0 0 0 2px rgba(220, 90, 65, 0.1);
        }
        
        .other-input.show {
            display: block;
        }

        @keyframes slideDown {
            from { opacity: 0; max-height: 0; }
            to { opacity: 1; max-height: 60px; }
        }

        .error-message {
            color: #dc2626;
            background: #fef2f2;
            padding: 12px;
            border-radius: 6px;
            margin-top: 12px;
            display: none;
            font-weight: 500;
            border: 1px solid #fecaca;
            font-size: 14px;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-3px); }
            20%, 40%, 60%, 80% { transform: translateX(3px); }
        }

        .variant-images {
            display: flex;
            gap: 16px;
            justify-content: center;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .variant-option {
            text-align: center;
            padding: 16px;
            border: 1px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            background: white;
            min-width: 120px;
        }

        .variant-option::before {
            display: none;
        }

        .variant-option:hover::before {
            display: none;
        }

        .variant-option:hover {
            border-color: #DC5A41;
        }

        .variant-option.selected {
            border-color: #DC5A41;
            background: #DC5A41;
            color: white;
        }

        .variant-image {
            width: 80px;
            height: 80px;
            border-radius: 6px;
            margin: 0 auto 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 600;
            color: white;
        }

        .variant-image::after {
            display: none;
        }

        .variant-option:hover .variant-image::after {
            display: none;
        }

        .product-showcase {
            text-align: center;
            margin: 20px 0;
            padding: 24px;
            background: #f9f9f9;
            border-radius: 8px;
            border: 1px solid #eee;
        }

        .product-showcase::before {
            display: none;
        }

        @keyframes rotate {
            display: none;
        }

        .product-showcase > * {
            position: relative;
            z-index: 1;
        }

        .product-showcase img {
            max-width: 200px;
            height: auto;
            margin: 12px;
            border-radius: 6px;
        }

        /* Enhanced mobile responsiveness */
        @media (max-width: 768px) {
            .survey-container {
                margin: 16px;
                border-radius: 8px;
            }
            
            .survey-header {
                padding: 24px 20px;
            }
            
            .survey-header h1 {
                font-size: 24px;
            }
            
            .survey-body {
                padding: 24px 20px;
            }
            
            .question {
                font-size: 18px;
                margin-bottom: 20px;
            }
            
            .option {
                padding: 14px 16px;
            }
            
            .variant-images {
                gap: 12px;
            }
            
            .variant-option {
                padding: 16px 12px;
                min-width: 100px;
            }
            
            .variant-image {
                width: 60px;
                height: 60px;
            }
            
            .btn {
                padding: 12px 20px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="survey-container">
        <div class="survey-header">
            <h1>🍝 ITC YiPPee! बाजार सर्वेक्षण</h1>
            <p>पास्ता मसाला व्यापारी सर्वेक्षण</p>
        </div>
        
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>
        
        <div class="survey-body">
            <!-- Question 1 -->
            <div class="question-container active" data-question="1">
                <div class="question">1. आप इनमें से क्या बेचते हैं?</div>
                <div class="options">
                    <div class="option">
                        <input type="checkbox" id="q1_instant_noodles" name="q1" value="instant_noodles">
                        <label for="q1_instant_noodles">a) इंस्टेंट नूडल्स</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q1_instant_pasta" name="q1" value="instant_pasta">
                        <label for="q1_instant_pasta">b) इंस्टेंट पास्ता</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q1_branded_pasta" name="q1" value="branded_pasta">
                        <label for="q1_branded_pasta">c) ब्रांडेड नॉन इंस्टेंट पास्ता</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q1_loose_pasta" name="q1" value="loose_pasta">
                        <label for="q1_loose_pasta">d) लूज पास्ता</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q1_pasta_masala" name="q1" value="pasta_masala">
                        <label for="q1_pasta_masala">e) पास्ता मसाला</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q1_none" name="q1" value="none">
                        <label for="q1_none">f) मैं इनमें से कोई भी नहीं बेचता</label>
                    </div>
                </div>
                <div class="error-message" id="q1-error"></div>
            </div>

            <!-- Termination Message -->
            <div class="question-container" data-question="terminate">
                <div class="termination-message">
                    <h2>धन्यवाद!</h2>
                    <p>खुशी की बात है कि आपने हमारे सर्वेक्षण में भाग लिया। हालांकि, यह सर्वेक्षण केवल पास्ता मसाला बेचने वाले व्यापारियों के लिए है।</p>
                </div>
            </div>

            <!-- Question 2 - Changed to radio buttons for single select -->
            <div class="question-container" data-question="2">
                <div class="question">2. आप एक महीने में कितना पास्ता मसाला बेचते हैं?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q2_1_5" name="q2" value="1-5">
                        <label for="q2_1_5">1-5 लड़ी</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q2_5_10" name="q2" value="5-10">
                        <label for="q2_5_10">5-10 लड़ी</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q2_10_15" name="q2" value="10-15">
                        <label for="q2_10_15">10-15 लड़ी</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q2_15_plus" name="q2" value="15+">
                        <label for="q2_15_plus">15 लड़ी से अधिक</label>
                    </div>
                </div>
                <div class="error-message" id="q2-error"></div>
            </div>

            <!-- Question 3 - Removed option d -->
            <div class="question-container" data-question="3">
                <div class="question">3. आप इनमें से कौन-कौन से पास्ता मसाला ब्रांड्स के बारे में जानते हैं?</div>
                <div class="options" id="q3-options">
                    <div class="option">
                        <input type="checkbox" id="q3_everest" name="q3" value="everest">
                        <label for="q3_everest">एवरेस्ट</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q3_smith_jones" name="q3" value="smith_jones">
                        <label for="q3_smith_jones">स्मिथ & जोन्स</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q3_bambinos" name="q3" value="bambinos">
                        <label for="q3_bambinos">बंबिनोस</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q3_catch" name="q3" value="catch">
                        <label for="q3_catch">कैच</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q3_maggi" name="q3" value="maggi">
                        <label for="q3_maggi">मैगी मसाला-ए-मैजिक</label>
                    </div>
                    <div class="option" id="q3_yippee_option">
                        <input type="checkbox" id="q3_yippee" name="q3" value="yippee">
                        <label for="q3_yippee">यिप्पी! पास्ता मसाला</label>
                    </div>
                    <!-- YiPPee noodles option for cohort g -->
                    <div class="option" id="q3_yippee_noodles_option" style="display: none;">
                        <input type="checkbox" id="q3_yippee_noodles" name="q3" value="yippee_noodles">
                        <label for="q3_yippee_noodles">यिप्पी! नूडल्स</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q3_other" name="q3" value="other">
                        <label for="q3_other">अन्य</label>
                        <input type="text" class="other-input" placeholder="कृपया बताएं...">
                    </div>
                </div>
                <div class="error-message" id="q3-error"></div>
            </div>

            <!-- Question 4 - Removed option d -->
            <div class="question-container" data-question="4">
                <div class="question">4. वर्तमान में आप इनमें से कौन सा पास्ता मसाला बेचते हैं?</div>
                <div class="options">
                    <div class="option">
                        <input type="checkbox" id="q4_everest" name="q4" value="everest">
                        <label for="q4_everest">एवरेस्ट</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q4_smith_jones" name="q4" value="smith_jones">
                        <label for="q4_smith_jones">स्मिथ & जोन्स</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q4_bambinos" name="q4" value="bambinos">
                        <label for="q4_bambinos">बंबिनोस</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q4_catch" name="q4" value="catch">
                        <label for="q4_catch">कैच</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q4_maggi" name="q4" value="maggi">
                        <label for="q4_maggi">मैगी मसाला-ए-मैजिक</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q4_yippee" name="q4" value="yippee">
                        <label for="q4_yippee">यिप्पी! पास्ता मसाला</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q4_other" name="q4" value="other">
                        <label for="q4_other">अन्य</label>
                        <input type="text" class="other-input" placeholder="कृपया बताएं...">
                    </div>
                </div>
                <div class="error-message" id="q4-error"></div>
            </div>

            <!-- Question 5 - Removed option d -->
            <div class="question-container" data-question="5">
                <div class="question">5. आपने अब तक कौन सा पास्ता मसाला ब्रांड बेचना बंद कर दिया है?</div>
                <div class="options">
                    <div class="option">
                        <input type="checkbox" id="q5_everest" name="q5" value="everest">
                        <label for="q5_everest">एवरेस्ट</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q5_smith_jones" name="q5" value="smith_jones">
                        <label for="q5_smith_jones">स्मिथ & जोन्स</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q5_bambinos" name="q5" value="bambinos">
                        <label for="q5_bambinos">बंबिनोस</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q5_catch" name="q5" value="catch">
                        <label for="q5_catch">कैच</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q5_maggi" name="q5" value="maggi">
                        <label for="q5_maggi">मैगी मसाला-ए-मैजिक</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q5_yippee" name="q5" value="yippee">
                        <label for="q5_yippee">यिप्पी! पास्ता मसाला</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q5_other" name="q5" value="other">
                        <label for="q5_other">अन्य</label>
                        <input type="text" class="other-input" placeholder="कृपया बताएं...">
                    </div>
                </div>
                <div class="error-message" id="q5-error"></div>
            </div>

            <!-- Question 6 - Removed option d -->
            <div class="question-container" data-question="6">
                <div class="question">6. पिछले 1 महीने में सबसे ज्यादा बिकने वाला पास्ता मसाला ब्रांड कौन सा है?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q6_everest" name="q6" value="एवरेस्ट">
                        <label for="q6_everest">एवरेस्ट</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q6_smith_jones" name="q6" value="स्मिथ & जोन्स">
                        <label for="q6_smith_jones">स्मिथ & जोन्स</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q6_bambinos" name="q6" value="बंबिनोस">
                        <label for="q6_bambinos">बंबिनोस</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q6_catch" name="q6" value="कैच">
                        <label for="q6_catch">कैच</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q6_maggi" name="q6" value="मैगी मसाला-ए-मैजिक">
                        <label for="q6_maggi">मैगी मसाला-ए-मैजिक</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q6_yippee" name="q6" value="यिप्पी! पास्ता मसाला">
                        <label for="q6_yippee">यिप्पी! पास्ता मसाला</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q6_other" name="q6" value="अन्य">
                        <label for="q6_other">अन्य</label>
                        <input type="text" class="other-input" placeholder="कृपया बताएं...">
                    </div>
                </div>
                <div class="error-message" id="q6-error"></div>
            </div>

            <!-- Question 7 - Removed brackets -->
            <div class="question-container" data-question="7">
                <div class="question" id="q7-text">7. आप <span id="q7-brand">___</span> पास्ता मसाला की हर महीने कितनी बिक्री करते हैं?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q7_very_low" name="q7" value="very_low">
                        <label for="q7_very_low">1-2 लड़ी</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q7_low" name="q7" value="low">
                        <label for="q7_low">3-5 लड़ी</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q7_medium" name="q7" value="medium">
                        <label for="q7_medium">6-10 लड़ी</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q7_high" name="q7" value="high">
                        <label for="q7_high">11-15 लड़ी</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q7_very_high" name="q7" value="very_high">
                        <label for="q7_very_high">15+ लड़ी</label>
                    </div>
                </div>
                <div class="error-message" id="q7-error"></div>
            </div>

            <!-- Question 8 (Updated to Question 9 with new text and options) -->
            <div class="question-container" data-question="8">
                <div class="question" id="q8-text">8. <span id="q8-brand">___</span> SKU की 1 लड़ी पर आपको MRP से कितना मार्जिन मिलता है?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q8_less_5" name="q8" value="<5%">
                        <label for="q8_less_5">&lt;5%</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q8_5_10" name="q8" value="5%-10%">
                        <label for="q8_5_10">5%-10%</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q8_10_15" name="q8" value="10%-15%">
                        <label for="q8_10_15">10%-15%</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q8_more_15" name="q8" value=">15%">
                        <label for="q8_more_15">&gt;15%</label>
                    </div>
                </div>
                <div class="error-message" id="q8-error"></div>
            </div>

            <!-- Question 9 (Updated with margin question) -->
            <div class="question-container" data-question="9">
                <div class="question" id="q9-text">9. <span id="q9-brand">___</span> SKU की 1 लड़ी पर आपको MRP से कितना मार्जिन मिलता है?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q9_less_5" name="q9" value="<5%">
                        <label for="q9_less_5">&lt;5%</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q9_5_10" name="q9" value="5%-10%">
                        <label for="q9_5_10">5%-10%</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q9_10_15" name="q9" value="10%-15%">
                        <label for="q9_10_15">10%-15%</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q9_more_15" name="q9" value=">15%">
                        <label for="q9_more_15">&gt;15%</label>
                    </div>
                </div>
                <div class="error-message" id="q9-error"></div>
            </div>

            <!-- YiPPee Aware Questions -->
            <div class="question-container" data-question="10">
                <div class="question">10. आपको यिप्पी! पास्ता मसाले के बारे में कैसे पता चला?</div>
                <div class="options">
                    <div class="option">
                        <input type="checkbox" id="q10_distributor" name="q10" value="distributor">
                        <label for="q10_distributor">डिस्ट्रीब्यूटर</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q10_wholesaler" name="q10" value="wholesaler">
                        <label for="q10_wholesaler">होलसेलर</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q10_sales_team" name="q10" value="sales_team">
                        <label for="q10_sales_team">सेल्स टीम</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q10_promo_event" name="q10" value="promo_event">
                        <label for="q10_promo_event">प्रमोशनल इवेंट</label>
                    </div>
                </div>
                <div class="error-message" id="q10-error"></div>
            </div>

            <!-- Question 11 - Updated price ranges -->
            <div class="question-container" data-question="11">
                <div class="question">11. यिप्पी! पास्ता मसाला का खरीद रेट प्रति लड़ी क्या है?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q11_100_102" name="q11" value="100-102">
                        <label for="q11_100_102">₹ 100-102</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q11_102_104" name="q11" value="102-104">
                        <label for="q11_102_104">₹ 102-104</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q11_104_106" name="q11" value="104-106">
                        <label for="q11_104_106">₹ 104-106</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q11_106_108" name="q11" value="106-108">
                        <label for="q11_106_108">₹ 106-108</label>
                    </div>
                </div>
                <div class="error-message" id="q11-error"></div>
            </div>

            <div class="question-container" data-question="12">
                <div class="question">12. यिप्पी! पास्ता मसाला (एक यूनिट) का MRP क्या है?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q12_5" name="q12" value="5">
                        <label for="q12_5">₹5</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q12_6" name="q12" value="6">
                        <label for="q12_6">₹6</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q12_9" name="q12" value="9">
                        <label for="q12_9">₹9</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q12_10" name="q12" value="10">
                        <label for="q12_10">₹10</label>
                    </div>
                </div>
                <div class="error-message" id="q12-error"></div>
            </div>

            <!-- YiPPee Sellers Questions -->
            <div class="question-container" data-question="13">
                <div class="question">13. आपने यिप्पी! पास्ता मसाला क्यों रखा?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q13_good_rate" name="q13" value="good_rate">
                        <label for="q13_good_rate">अच्छा रेट / मार्जिन</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q13_sales_offer" name="q13" value="sales_offer">
                        <label for="q13_sales_offer">सेल्समैन ने बहुत अच्छा ऑफर दिया</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q13_branded" name="q13" value="branded">
                        <label for="q13_branded">यिप्पी! एक ब्रांडेड प्रोडक्ट है</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q13_demand" name="q13" value="demand">
                        <label for="q13_demand">उपभोक्ताओं ने इस उत्पाद की मांग की</label>
                    </div>
                </div>
                <div class="error-message" id="q13-error"></div>
            </div>

            <div class="question-container" data-question="14">
                <div class="question">14. पहली बार आपने कितनी लड़ी खरीदी थी?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q14_1" name="q14" value="1">
                        <label for="q14_1">1</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q14_2" name="q14" value="2">
                        <label for="q14_2">2</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q14_3" name="q14" value="3">
                        <label for="q14_3">3</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q14_more" name="q14" value="more_than_3">
                        <label for="q14_more">3 से ज़्यादा</label>
                    </div>
                </div>
                <div class="error-message" id="q14-error"></div>
            </div>

            <div class="question-container" data-question="15">
                <div class="question">15. पहली बार आपने कौन सा वैरिएंट खरीदा था?</div>
                <div class="variant-images">
                    <div class="variant-option" data-variant="blue">
                        <div class="variant-image" style="background: linear-gradient(45deg, #4a90e2, #357abd);">ब्लू</div>
                        <input type="radio" id="q15_blue" name="q15" value="blue" style="display: none;">
                        <label for="q15_blue">ब्लू</label>
                    </div>
                    <div class="variant-option" data-variant="red">
                        <div class="variant-image" style="background: linear-gradient(45deg, #e74c3c, #c0392b);">रेड</div>
                        <input type="radio" id="q15_red" name="q15" value="red" style="display: none;">
                        <label for="q15_red">रेड</label>
                    </div>
                    <div class="variant-option" data-variant="both">
                        <div class="variant-image" style="background: linear-gradient(45deg, #4a90e2, #e74c3c);">दोनों</div>
                        <input type="radio" id="q15_both" name="q15" value="both" style="display: none;">
                        <label for="q15_both">दोनों</label>
                    </div>
                </div>
                <div class="error-message" id="q15-error"></div>
            </div>

            <!-- Conditional Blue Variant Question -->
            <div class="question-container" data-question="15a">
                <div class="question">15a. आपने सिर्फ एक वैरिएंट ही क्यों खरीदा?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q15a_only_available" name="q15a" value="only_available">
                        <label for="q15a_only_available">सेल्समैन के पास सिर्फ एक ही वैरिएंट था</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q15a_cheesy_preference" name="q15a" value="cheesy_preference">
                        <label for="q15a_cheesy_preference">मेरे इलाके में कंज़्यूमर को चीज़ी पास्ता पसंद है</label>
                    </div>
                </div>
                <div class="error-message" id="q15a-error"></div>
            </div>

            <!-- Conditional Red Variant Question -->
            <div class="question-container" data-question="15b">
                <div class="question">15b. आपने सिर्फ एक वैरिएंट ही क्यों खरीदा?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q15b_only_available" name="q15b" value="only_available">
                        <label for="q15b_only_available">सेल्समैन के पास सिर्फ एक ही वैरिएंट था</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q15b_spicy_preference" name="q15b" value="spicy_preference">
                        <label for="q15b_spicy_preference">मेरे इलाके में कंज़्यूमर को तीखा पास्ता पसंद है</label>
                    </div>
                </div>
                <div class="error-message" id="q15b-error"></div>
            </div>

            <div class="question-container" data-question="16">
                <div class="question">16. आपने अपनी पहली YiPPee! पास्ता मसाला लड़ी कितनी जल्दी बेच दी?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q16_1_week" name="q16" value="1_week">
                        <label for="q16_1_week">1 हफ्ता</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q16_2_weeks" name="q16" value="2_weeks">
                        <label for="q16_2_weeks">2 हफ्ते</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q16_1_month" name="q16" value="1_month">
                        <label for="q16_1_month">1 महीना</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q16_more_month" name="q16" value="more_than_month">
                        <label for="q16_more_month">1 महीने से ज़्यादा</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q16_not_sold" name="q16" value="not_sold">
                        <label for="q16_not_sold">अभी तक पूरी नहीं बिकी है</label>
                    </div>
                </div>
                <div class="error-message" id="q16-error"></div>
            </div>

            <!-- Question 17 (Reorder frequency question) -->
            <div class="question-container" data-question="17">
                <div class="question">17. आप कितने दिन में YiPPee! पास्ता मसाला को दोबारा मंगवाते हैं?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q17_weekly" name="q17" value="weekly">
                        <label for="q17_weekly">हर हफ्ते</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q17_biweekly" name="q17" value="biweekly">
                        <label for="q17_biweekly">दो हफ्ते में एक बार</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q17_monthly" name="q17" value="monthly">
                        <label for="q17_monthly">हर महीने</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q17_no_reorder" name="q17" value="no_reorder">
                        <label for="q17_no_reorder">मैंने दोबारा ऑर्डर नहीं किया</label>
                    </div>
                </div>
                <div class="error-message" id="q17-error"></div>
            </div>

            <!-- Lapsers Questions -->
            <div class="question-container" data-question="18">
                <div class="question">18. आपने दोबारा ऑर्डर क्यों नहीं किया?</div>
                <div class="options">
                    <div class="option">
                        <input type="checkbox" id="q18_slow_sale" name="q18" value="slow_sale">
                        <label for="q18_slow_sale">बहुत धीरे बिकता है</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q18_hesitant" name="q18" value="hesitant">
                        <label for="q18_hesitant">ग्राहक इसे ट्राय करने से हिचकते हैं</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q18_no_repeat" name="q18" value="no_repeat">
                        <label for="q18_no_repeat">ग्राहक बार-बार नहीं खरीदते</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q18_other" name="q18" value="other">
                        <label for="q18_other">अन्य</label>
                        <input type="text" class="other-input" placeholder="कृपया बताएं...">
                    </div>
                </div>
                <div class="error-message" id="q18-error"></div>
            </div>

            <div class="question-container" data-question="19">
                <div class="question">19. क्या ग्राहकों को यह प्रोडक्ट पसंद आता है?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q19_yes" name="q19" value="yes">
                        <label for="q19_yes">हाँ</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q19_no_diff" name="q19" value="no_difference">
                        <label for="q19_no_diff">कोई खास फर्क नहीं पड़ता</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q19_no" name="q19" value="no">
                        <label for="q19_no">नहीं</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q19_dont_know" name="q19" value="dont_know">
                        <label for="q19_dont_know">मुझे नहीं पता</label>
                    </div>
                </div>
                <div class="error-message" id="q19-error"></div>
            </div>

            <div class="question-container" data-question="20">
                <div class="question">20. क्या आपको यह प्रोडक्ट पसंद है?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q20_good_demand" name="q20" value="good_demand">
                        <label for="q20_good_demand">हाँ, इसकी डिमांड अच्छी है</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q20_ok_slow" name="q20" value="ok_slow">
                        <label for="q20_ok_slow">ठीक है, लेकिन धीरे बिकता है</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q20_difficult" name="q20" value="difficult">
                        <label for="q20_difficult">नहीं, बेचना मुश्किल है</label>
                    </div>
                </div>
                <div class="error-message" id="q20-error"></div>
            </div>

            <!-- Aware but not selling Questions -->
            <div class="question-container" data-question="21">
                <div class="question">21. आपने YiPPee! पास्ता मसाला स्टॉक क्यों नहीं किया?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q21_not_available" name="q21" value="not_available">
                        <label for="q21_not_available">स्टॉक उपलब्ध नहीं था</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q21_low_demand" name="q21" value="low_demand">
                        <label for="q21_low_demand">इसकी मांग कम है</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q21_low_margin" name="q21" value="low_margin">
                        <label for="q21_low_margin">मार्जिन कम है</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q21_no_new" name="q21" value="no_new">
                        <label for="q21_no_new">मैं नए प्रोडक्ट्स ट्राय नहीं करता</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q21_no_contact" name="q21" value="no_contact">
                        <label for="q21_no_contact">ITC का सेल्समैन संपर्क में नहीं आया</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q21_bad_exp" name="q21" value="bad_experience">
                        <label for="q21_bad_exp">YiPPee! ब्रांड के साथ पहले का अनुभव अच्छा नहीं रहा है</label>
                    </div>
                </div>
                <div class="error-message" id="q21-error"></div>
            </div>

            <div class="question-container" data-question="22">
                <div class="question">22. आप इसे स्टॉक करने के लिए किस वजह से प्रेरित होंगे?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q22_better_margin" name="q22" value="better_margin">
                        <label for="q22_better_margin">बेहतर मार्जिन</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q22_more_demand" name="q22" value="more_demand">
                        <label for="q22_more_demand">ज़्यादा ग्राहक मांग</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q22_easy_stock" name="q22" value="easy_stock">
                        <label for="q22_easy_stock">आसानी से स्टॉक मिलना</label>
                    </div>
                </div>
                <div class="error-message" id="q22-error"></div>
            </div>

            <!-- Question 23 (Stocking question with 14.4% margin) - SHOWN TO EVERYONE -->
            <div class="question-container" data-question="23">
                <div class="question">23. YiPPee! का एक पास्ता मसाला है जिसकी MRP ₹5 है और उस पर 14.4% मार्जिन है, क्या आप इसे स्टॉक करना चाहेंगे?</div>
                <div class="product-showcase">
                    <div style="background: linear-gradient(45deg, #ff6b6b, #4ecdc4); width: 150px; height: 100px; margin: 0 auto; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">YiPPee! पास्ता मसाला</div>
                    <p style="margin-top: 10px; font-weight: bold;">MRP: ₹5 | मार्जिन: 14.4%</p>
                </div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q23_yes" name="q23" value="yes">
                        <label for="q23_yes">हाँ</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q23_no" name="q23" value="no">
                        <label for="q23_no">नहीं</label>
                    </div>
                </div>
                <div class="error-message" id="q23-error"></div>
            </div>

            <!-- Question 24 (Follow-up for "no" answers) -->
            <div class="question-container" data-question="24">
                <div class="question">24. आप इसे स्टॉक करने के लिए किस वजह से प्रेरित होंगे?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q24_better_margin" name="q24" value="better_margin">
                        <label for="q24_better_margin">बेहतर मार्जिन</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q24_more_demand" name="q24" value="more_demand">
                        <label for="q24_more_demand">ज़्यादा ग्राहक मांग</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q24_easy_stock" name="q24" value="easy_stock">
                        <label for="q24_easy_stock">आसानी से स्टॉक मिलना</label>
                    </div>
                </div>
                <div class="error-message" id="q24-error"></div>
            </div>

            <!-- Question 25: YiPPee noodles question (for all) -->
            <div class="question-container" data-question="25">
                <div class="question">25. क्या आप YippEE नूडल्स बेचते हैं?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q25_5_10_pack" name="q25" value="yes_5_10_pack">
                        <label for="q25_5_10_pack">हाँ, ₹5/₹10 पैक</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q25_other_pack" name="q25" value="yes_other_pack">
                        <label for="q25_other_pack">हाँ, अन्य पैक साइज</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q25_no" name="q25" value="no">
                        <label for="q25_no">नहीं</label>
                    </div>
                </div>
                <div class="error-message" id="q25-error"></div>
            </div>

            <!-- Completion Message -->
            <div class="question-container" data-question="complete">
                <div class="completion-message">
                    <h2>🎉 धन्यवाद!</h2>
                    <p>आपने सफलतापूर्वक सर्वेक्षण पूरा कर लिया है। आपके जवाब हमारे लिए बहुत महत्वपूर्ण हैं।</p>
                    <p>आपके सहयोग के लिए धन्यवाद!</p>
                </div>
            </div>

            <!-- Navigation -->
            <div class="navigation">
                <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()">अगला</button>
            </div>
        </div>
    </div>

    <script>
        let currentQuestion = 1;
        let totalQuestions = 25;
        let userResponses = {};
        let questionFlow = [];
        
        // Cohort assignment for YiPPee noodles option
        let cohort = Math.random() < 0.5 ? 'g' : 'h'; // 50% chance for cohort 'g'
        
        // Helper functions for conditional logic
        function checkCondition1e() {
            return userResponses.q1 && userResponses.q1.includes('pasta_masala');
        }
        
        function checkCondition1f() {
            return userResponses.q1 && userResponses.q1.includes('none');
        }
        
        function checkCondition3g() {
            return userResponses.q3 && (userResponses.q3.includes('yippee') || userResponses.q3.includes('yippee_noodles'));
        }
        
        function checkCondition4g() {
            return userResponses.q4 && userResponses.q4.includes('yippee');
        }
        
        function checkCondition5g() {
            return userResponses.q5 && userResponses.q5.includes('yippee');
        }
        
        function checkCondition36d() {
            return userResponses.q17 && userResponses.q17.includes('no_reorder');
        }
        
        function checkCondition33a() {
            return userResponses.q15 && userResponses.q15.includes('blue');
        }
        
        function checkCondition33b() {
            return userResponses.q15 && userResponses.q15.includes('red');
        }
        
        function checkCondition33c() {
            return userResponses.q15 && userResponses.q15.includes('both');
        }

        // Check if question should be shown based on conditions
        function shouldShowQuestion(questionLogic) {
            const condition1e = checkCondition1e();
            const condition1f = checkCondition1f();
            const condition3g = checkCondition3g();
            const condition4g = checkCondition4g();
            const condition5g = checkCondition5g();
            const condition36d = checkCondition36d();
            const condition33a = checkCondition33a();
            const condition33b = checkCondition33b();
            const condition33c = checkCondition33c();
            
            switch(questionLogic) {
                case 'yippee_aware':
                    return condition1e && !condition1f && condition3g;
                    
                case 'yippee_seller':
                    return condition1e && !condition1f && condition3g && (condition4g || condition5g) && !(condition4g && condition5g);
                    
                case 'variant_conditional':
                    return condition1e && !condition1f && (condition33a || condition33b) && !(condition4g && condition5g && condition33b && !condition33c);
                    
                case 'lapsers':
                    return condition1e && !condition1f && condition36d && !(condition4g && condition5g);
                    
                case 'stopped_selling':
                    return condition1e && !condition1f && condition3g && condition5g && !(condition4g && condition5g);
                    
                case 'aware_not_selling':
                    return (condition1e && !condition1f && !condition3g && !(condition4g || condition5g) && !(condition4g && condition5g)) || 
                           (condition1e && !condition1f && condition3g && !(condition4g || condition5g) && !(condition4g && condition5g));
                    
                case 'not_aware':
                    return condition1e && !condition1f && !condition3g && !(condition4g || condition5g) && !(condition4g && condition5g);
                    
                case 'general':
                    return condition1e && !condition1f;
                    
                default:
                    return true;
            }
        }

        // Initialize survey
        function initializeSurvey() {
            updateProgress();
            document.getElementById('nextBtn').textContent = 'अगला';
            
            // Show YiPPee noodles option for cohort 'g'
            if (cohort === 'g') {
                document.getElementById('q3_yippee_noodles_option').style.display = 'flex';
            }
        }

        // Validation functions
        function validateQuestion(questionNum) {
            const questionContainer = document.querySelector(`[data-question="${questionNum}"]`);
            const inputs = questionContainer.querySelectorAll('input[type="checkbox"], input[type="radio"]');
            const errorElement = questionContainer.querySelector('.error-message');
            
            let isValid = false;
            let checkedInputs = [];

            inputs.forEach(input => {
                if (input.checked) {
                    checkedInputs.push(input);
                }
            });

            // Check if at least one option is selected
            if (checkedInputs.length > 0) {
                isValid = true;
                
                // Handle "other" input validation
                checkedInputs.forEach(input => {
                    if (input.value === 'other') {
                        const otherInput = input.parentElement.querySelector('.other-input');
                        if (otherInput && (!otherInput.value || otherInput.value.trim() === '')) {
                            isValid = false;
                        }
                    }
                });
            }

            if (!isValid) {
                errorElement.textContent = 'कृपया कम से कम एक विकल्प चुनें।';
                errorElement.style.display = 'block';
            } else {
                errorElement.style.display = 'none';
            }

            return isValid;
        }

        // Store user responses
        function storeResponse(questionNum) {
            const questionContainer = document.querySelector(`[data-question="${questionNum}"]`);
            const inputs = questionContainer.querySelectorAll('input[type="checkbox"], input[type="radio"]');
            
            userResponses[`q${questionNum}`] = [];
            
            inputs.forEach(input => {
                if (input.checked) {
                    let value = input.value;
                    if (value === 'other') {
                        const otherInput = input.parentElement.querySelector('.other-input');
                        value = otherInput ? otherInput.value : '';
                    }
                    userResponses[`q${questionNum}`].push(value);
                }
            });
        }

        // Determine next question based on logic - Updated to always show Q23
        function getNextQuestion(currentQ) {
            switch(currentQ) {
                case 1:
                    // Check if pasta masala is selected
                    if (!userResponses.q1 || !userResponses.q1.includes('pasta_masala')) {
                        return 'terminate';
                    }
                    return 2;
                
                case 2:
                    return 3;
                
                case 3:
                    return 4;
                
                case 4:
                    return 5;
                
                case 5:
                    return 6;
                
                case 6:
                    // Update Q7, Q8 with selected brand
                    const selectedBrand = userResponses.q6[0];
                    const q7Brand = document.getElementById('q7-brand');
                    const q8Brand = document.getElementById('q8-brand');
                    if (q7Brand) q7Brand.textContent = selectedBrand;
                    if (q8Brand) q8Brand.textContent = selectedBrand;
                    return 7;
                
                case 7:
                    return 8; // Go to Q8 (previously Q9)
                
                case 8:
                    // After Q8, check conditions for YiPPee questions
                    if (shouldShowQuestion('yippee_aware')) {
                        return 10; // YiPPee aware questions
                    } else if (shouldShowQuestion('not_aware')) {
                        return 23; // Show Q23 to everyone
                    } else if (shouldShowQuestion('general')) {
                        return 23; // Show Q23 to everyone
                    } else {
                        return 23; // Show Q23 to everyone
                    }
                
                case 10:
                    if (shouldShowQuestion('yippee_aware')) return 11;
                    return 23; // Show Q23 to everyone
                
                case 11:
                    if (shouldShowQuestion('yippee_aware')) return 12;
                    return 23; // Show Q23 to everyone
                
                case 12:
                    if (shouldShowQuestion('yippee_seller')) {
                        return 13; // Sellers questions
                    } else if (shouldShowQuestion('aware_not_selling')) {
                        return 21; // Aware but not selling
                    } else {
                        return 23; // Show Q23 to everyone
                    }
                
                case 13:
                    if (shouldShowQuestion('yippee_seller')) return 14;
                    return 23; // Show Q23 to everyone
                
                case 14:
                    if (shouldShowQuestion('yippee_seller')) return 15;
                    return 23; // Show Q23 to everyone
                
                case 15:
                    const selectedVariant = userResponses.q15[0];
                    if (shouldShowQuestion('variant_conditional')) {
                        if (selectedVariant === 'blue') {
                            return '15a';
                        } else if (selectedVariant === 'red') {
                            return '15b';
                        }
                    }
                    return 16;
                
                case '15a':
                case '15b':
                    return 16;
                
                case 16:
                    if (shouldShowQuestion('yippee_seller')) return 17;
                    return 23; // Show Q23 to everyone
                
                case 17:
                    // Check for lapsers or reorder pattern
                    const reorders = userResponses.q17[0] !== 'no_reorder';
                    if (shouldShowQuestion('lapsers') || !reorders) {
                        return 18; // Lapsers questions
                    } else {
                        return 23; // Show Q23 to everyone
                    }
                
                case 18:
                    if (shouldShowQuestion('lapsers')) return 19;
                    return 23; // Show Q23 to everyone
                
                case 19:
                    if (shouldShowQuestion('yippee_seller')) return 20;
                    return 23; // Show Q23 to everyone
                
                case 20:
                    return 23; // Show Q23 to everyone
                
                case 21:
                    if (shouldShowQuestion('aware_not_selling')) return 22;
                    return 23; // Show Q23 to everyone
                
                case 22:
                    return 23; // Show Q23 to everyone
                
                case 23:
                    // Check if they answered "no" to stocking question
                    const willStock = userResponses.q23[0] === 'yes';
                    if (willStock) {
                        return 25; // Go to YiPPee noodles question
                    } else {
                        return 24; // Follow-up for "no" answers
                    }
                
                case 24:
                    return 25; // YiPPee noodles question
                
                case 25:
                    return 'complete';
                
                default:
                    return 'complete';
            }
        }

        // Navigation functions
        function nextQuestion() {
            if (currentQuestion === 'terminate' || currentQuestion === 'complete') {
                return;
            }

            if (!validateQuestion(currentQuestion)) {
                return;
            }

            storeResponse(currentQuestion);
            
            const nextQ = getNextQuestion(currentQuestion);
            
            // Hide current question
            const currentElement = document.querySelector(`[data-question="${currentQuestion}"]`);
            if (currentElement) {
                currentElement.classList.remove('active');
            }
            
            // Show next question
            currentQuestion = nextQ;
            const nextElement = document.querySelector(`[data-question="${currentQuestion}"]`);
            if (nextElement) {
                nextElement.classList.add('active');
            }
            
            // Update navigation
            updateNavigation();
            updateProgress();
        }

        function updateNavigation() {
            const nextBtn = document.getElementById('nextBtn');
            
            if (!nextBtn) return;
            
            if (currentQuestion === 'complete' || currentQuestion === 'terminate') {
                nextBtn.style.display = 'none';
            } else {
                nextBtn.style.display = 'block';
                nextBtn.textContent = 'अगला';
            }
        }

        function updateProgress() {
            let progress = 0;
            if (typeof currentQuestion === 'number') {
                progress = (currentQuestion / totalQuestions) * 100;
            } else if (currentQuestion === 'complete') {
                progress = 100;
            }
            
            const progressFill = document.getElementById('progressFill');
            if (progressFill) {
                progressFill.style.width = progress + '%';
            }
        }

        // Event listeners for options
        document.addEventListener('DOMContentLoaded', function() {
            initializeSurvey();
            
            // Handle option selection
            document.addEventListener('change', function(e) {
                if (e.target.type === 'checkbox' || e.target.type === 'radio') {
                    const option = e.target.closest('.option');
                    
                    // Handle "other" input visibility
                    if (e.target.value === 'other' && e.target.checked) {
                        const otherInput = option.querySelector('.other-input');
                        if (otherInput) {
                            otherInput.classList.add('show');
                        }
                    }
                    
                    // Handle exclusive options like "none" in Q1
                    if (e.target.name.includes('q1') && e.target.value === 'none' && e.target.checked) {
                        // Uncheck other options when "none" is selected
                        const otherInputs = document.querySelectorAll('input[name="q1"]');
                        otherInputs.forEach(input => {
                            if (input !== e.target) input.checked = false;
                        });
                    }
                    
                    // Handle radio button selections for Q2
                    if (e.target.type === 'radio') {
                        // Clear all selected options for this question
                        const allOptions = document.querySelectorAll(`input[name="${e.target.name}"]`);
                        allOptions.forEach(input => {
                            const parentOption = input.closest('.option');
                            if (parentOption) {
                                parentOption.classList.remove('selected');
                            }
                        });
                    }
                    
                    // Update option styling
                    if (e.target.checked) {
                        option.classList.add('selected');
                    } else {
                        option.classList.remove('selected');
                        const otherInput = option.querySelector('.other-input');
                        if (otherInput) {
                            otherInput.classList.remove('show');
                        }
                    }
                }
            });
            
            // Handle variant selection
            document.addEventListener('click', function(e) {
                if (e.target.closest('.variant-option')) {
                    const variantOption = e.target.closest('.variant-option');
                    const variant = variantOption.dataset.variant;
                    const radio = document.getElementById(`q15_${variant}`);
                    
                    // Clear previous selections
                    document.querySelectorAll('.variant-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    document.querySelectorAll('input[name="q15"]').forEach(input => {
                        input.checked = false;
                    });
                    
                    // Select current option
                    variantOption.classList.add('selected');
                    radio.checked = true;
                }
            });
        });
    </script>
</body>
</html>
