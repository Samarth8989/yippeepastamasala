<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ITC YiPPee! बाजार सर्वेक्षण</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(255, 107, 107, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(78, 205, 196, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(255, 183, 77, 0.2) 0%, transparent 50%);
            pointer-events: none;
            z-index: -1;
        }
        
        .survey-container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            box-shadow: 
                0 25px 50px rgba(0,0,0,0.15),
                0 0 0 1px rgba(255,255,255,0.2);
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .survey-header {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 50%, #ff9ff3 100%);
            color: white;
            padding: 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .survey-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .survey-header h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            position: relative;
            z-index: 1;
        }

        .survey-header p {
            font-size: 1.2rem;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        
        .survey-body {
            padding: 50px;
            background: linear-gradient(180deg, rgba(255,255,255,0.9) 0%, rgba(248,250,252,0.9) 100%);
        }
        
        .question-container {
            display: none;
            animation: slideInRight 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .question-container.active {
            display: block;
        }
        
        @keyframes slideInRight {
            from { 
                opacity: 0; 
                transform: translateX(50px) rotateY(-15deg); 
            }
            to { 
                opacity: 1; 
                transform: translateX(0) rotateY(0deg); 
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .question {
            font-size: 1.4rem;
            color: #2d3748;
            margin-bottom: 30px;
            line-height: 1.7;
            font-weight: 600;
            text-align: center;
            padding: 25px;
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            border-radius: 20px;
            border-left: 6px solid #667eea;
            box-shadow: 0 8px 25px rgba(0,0,0,0.08);
        }
        
        .options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .option {
            display: flex;
            align-items: center;
            padding: 20px 25px;
            border: 3px solid #e2e8f0;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            position: relative;
            overflow: hidden;
        }

        .option::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.1), transparent);
            transition: left 0.5s;
        }
        
        .option:hover {
            border-color: #667eea;
            background: linear-gradient(135deg, #f0f4ff 0%, #e6f3ff 100%);
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.2);
        }

        .option:hover::before {
            left: 100%;
        }
        
        .option.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 20px 40px rgba(102, 126, 234, 0.3);
        }

        .option.selected label {
            color: white;
        }
        
        .option input[type="checkbox"],
        .option input[type="radio"] {
            margin-right: 18px;
            transform: scale(1.4);
            accent-color: #667eea;
        }

        .option.selected input[type="checkbox"],
        .option.selected input[type="radio"] {
            accent-color: white;
        }
        
        .option label {
            cursor: pointer;
            flex: 1;
            font-size: 1.1rem;
            font-weight: 500;
            transition: color 0.3s ease;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 50px;
            padding-top: 40px;
            border-top: 2px solid #e2e8f0;
        }
        
        .btn {
            padding: 16px 40px;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255,255,255,0.3);
            border-radius: 50%;
            transition: all 0.4s ease;
            transform: translate(-50%, -50%);
        }

        .btn:hover::before {
            width: 300px;
            height: 300px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #f1f3f4 0%, #e8eaed 100%);
            color: #333;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        .btn-secondary:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(0,0,0,0.15);
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
        }
        
        .progress-bar {
            height: 8px;
            background: rgba(255,255,255,0.3);
            margin-bottom: 0;
            position: relative;
            overflow: hidden;
        }

        .progress-bar::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: loading 2s infinite;
        }

        @keyframes loading {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #48bb78 0%, #38a169 50%, #2f855a 100%);
            transition: width 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            width: 0%;
            position: relative;
            overflow: hidden;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: progress-shimmer 2s infinite;
        }

        @keyframes progress-shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .termination-message,
        .completion-message {
            text-align: center;
            padding: 60px 40px;
            border-radius: 20px;
            margin: 30px 0;
        }

        .termination-message {
            background: linear-gradient(135deg, #fed7d7 0%, #feb2b2 100%);
            color: #c53030;
            border-left: 6px solid #e53e3e;
        }

        .completion-message {
            background: linear-gradient(135deg, #c6f6d5 0%, #9ae6b4 100%);
            color: #2f855a;
            border-left: 6px solid #38a169;
        }

        .termination-message h2,
        .completion-message h2 {
            font-size: 2.2rem;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .termination-message p,
        .completion-message p {
            font-size: 1.2rem;
            line-height: 1.6;
            margin-bottom: 15px;
        }
        
        .other-input {
            margin-top: 15px;
            padding: 15px 20px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            width: 100%;
            display: none;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: white;
        }

        .other-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .other-input.show {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; max-height: 0; }
            to { opacity: 1; max-height: 100px; }
        }

        .error-message {
            color: #e53e3e;
            background: linear-gradient(135deg, #fed7d7 0%, #feb2b2 100%);
            padding: 15px 20px;
            border-radius: 12px;
            margin-top: 20px;
            display: none;
            font-weight: 600;
            border-left: 4px solid #e53e3e;
            animation: shake 0.5s ease-in-out;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }

        .variant-images {
            display: flex;
            gap: 30px;
            justify-content: center;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .variant-option {
            text-align: center;
            padding: 25px;
            border: 3px solid #e2e8f0;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            background: white;
            position: relative;
            overflow: hidden;
        }

        .variant-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(102, 126, 234, 0.1), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s ease;
        }

        .variant-option:hover::before {
            transform: translateX(100%);
        }

        .variant-option:hover {
            border-color: #667eea;
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        .variant-option.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: translateY(-8px) scale(1.05);
            box-shadow: 0 25px 50px rgba(102, 126, 234, 0.3);
        }

        .variant-image {
            width: 100px;
            height: 100px;
            border-radius: 15px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 700;
            color: white;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
            position: relative;
            overflow: hidden;
        }

        .variant-image::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.2), transparent);
            transform: translateX(-100%);
            transition: transform 0.8s ease;
        }

        .variant-option:hover .variant-image::after {
            transform: translateX(100%);
        }

        .product-showcase {
            text-align: center;
            margin: 30px 0;
            padding: 30px;
            background: linear-gradient(135deg, #f8fafc 0%, #edf2f7 100%);
            border-radius: 20px;
            border: 2px solid #e2e8f0;
            position: relative;
            overflow: hidden;
        }

        .product-showcase::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(102, 126, 234, 0.1) 0%, transparent 70%);
            animation: rotate 10s linear infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .product-showcase > * {
            position: relative;
            z-index: 1;
        }

        .product-showcase img {
            max-width: 250px;
            height: auto;
            margin: 15px;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }

        /* Enhanced mobile responsiveness */
        @media (max-width: 768px) {
            .survey-container {
                margin: 10px;
                border-radius: 20px;
            }
            
            .survey-header {
                padding: 30px 20px;
            }
            
            .survey-header h1 {
                font-size: 2rem;
            }
            
            .survey-body {
                padding: 30px 25px;
            }
            
            .question {
                font-size: 1.2rem;
                padding: 20px;
            }
            
            .options {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .option {
                padding: 18px 20px;
            }
            
            .variant-images {
                gap: 20px;
            }
            
            .variant-option {
                padding: 20px;
            }
            
            .variant-image {
                width: 80px;
                height: 80px;
            }
            
            .btn {
                padding: 14px 30px;
                font-size: 1rem;
            }
        }

        /* Special styling for number-only display in Q7 */
        .q7-options .option label {
            position: relative;
        }

        .q7-options .option label::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: #667eea;
        }

        .q7-options .option:nth-child(1) label::before { content: '1'; }
        .q7-options .option:nth-child(2) label::before { content: '2'; }
        .q7-options .option:nth-child(3) label::before { content: '3'; }
        .q7-options .option:nth-child(4) label::before { content: '4'; }
        .q7-options .option:nth-child(5) label::before { content: '5'; }

        .q7-options .option label {
            padding-left: 40px;
        }

        /* Floating elements animation */
        .floating-elements {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .floating-element {
            position: absolute;
            width: 10px;
            height: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 15s infinite linear;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-10vh) rotate(360deg);
                opacity: 0;
            }
        }

        .floating-element:nth-child(1) { left: 10%; animation-delay: 0s; }
        .floating-element:nth-child(2) { left: 20%; animation-delay: 2s; }
        .floating-element:nth-child(3) { left: 30%; animation-delay: 4s; }
        .floating-element:nth-child(4) { left: 40%; animation-delay: 6s; }
        .floating-element:nth-child(5) { left: 50%; animation-delay: 8s; }
        .floating-element:nth-child(6) { left: 60%; animation-delay: 10s; }
        .floating-element:nth-child(7) { left: 70%; animation-delay: 12s; }
        .floating-element:nth-child(8) { left: 80%; animation-delay: 14s; }
        .floating-element:nth-child(9) { left: 90%; animation-delay: 16s; }
    </style>
</head>
<body>
    <!-- Floating background elements -->
    <div class="floating-elements">
        <div class="floating-element"></div>
        <div class="floating-element"></div>
        <div class="floating-element"></div>
        <div class="floating-element"></div>
        <div class="floating-element"></div>
        <div class="floating-element"></div>
        <div class="floating-element"></div>
        <div class="floating-element"></div>
        <div class="floating-element"></div>
    </div>

    <div class="survey-container">
        <div class="survey-header">
            <h1>🍝 ITC YiPPee! बाजार सर्वेक्षण</h1>
            <p>पास्ता मसाला व्यापारी सर्वेक्षण</p>
        </div>
        
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>
        
        <div class="survey-body">
            <!-- Question 1 -->
            <div class="question-container active" data-question="1">
                <div class="question">1. आप इनमें से क्या बेचते हैं?</div>
                <div class="options">
                    <div class="option">
                        <input type="checkbox" id="q1_instant_noodles" name="q1" value="instant_noodles">
                        <label for="q1_instant_noodles">a) इंस्टेंट नूडल्स</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q1_instant_pasta" name="q1" value="instant_pasta">
                        <label for="q1_instant_pasta">b) इंस्टेंट पास्ता</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q1_branded_pasta" name="q1" value="branded_pasta">
                        <label for="q1_branded_pasta">c) ब्रांडेड नॉन इंस्टेंट पास्ता</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q1_loose_pasta" name="q1" value="loose_pasta">
                        <label for="q1_loose_pasta">d) लूज पास्ता</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q1_pasta_masala" name="q1" value="pasta_masala">
                        <label for="q1_pasta_masala">e) पास्ता मसाला</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q1_none" name="q1" value="none">
                        <label for="q1_none">f) मैं इनमें से कोई भी नहीं बेचता</label>
                    </div>
                </div>
                <div class="error-message" id="q1-error"></div>
            </div>

            <!-- Termination Message -->
            <div class="question-container" data-question="terminate">
                <div class="termination-message">
                    <h2>धन्यवाद!</h2>
                    <p>खुशी की बात है कि आपने हमारे सर्वेक्षण में भाग लिया। हालांकि, यह सर्वेक्षण केवल पास्ता मसाला बेचने वाले व्यापारियों के लिए है।</p>
                </div>
            </div>

            <!-- Question 2 -->
            <div class="question-container" data-question="2">
                <div class="question">2. आप एक महीने में कितना पास्ता मसाला बेचते हैं?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q2_1_5" name="q2" value="1-5">
                        <label for="q2_1_5">1-5 लड़ी</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q2_5_10" name="q2" value="5-10">
                        <label for="q2_5_10">5-10 लड़ी</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q2_10_15" name="q2" value="10-15">
                        <label for="q2_10_15">10-15 लड़ी</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q2_15_plus" name="q2" value="15+">
                        <label for="q2_15_plus">15 लड़ी से अधिक</label>
                    </div>
                </div>
                <div class="error-message" id="q2-error"></div>
            </div>

            <!-- Question 3 with cohort 'g' modification -->
            <div class="question-container" data-question="3">
                <div class="question">3. आप इनमें से कौन-कौन से पास्ता मसाला ब्रांड्स के बारे में जानते हैं?</div>
                <div class="options" id="q3-options">
                    <div class="option">
                        <input type="checkbox" id="q3_everest" name="q3" value="everest">
                        <label for="q3_everest">एवरेस्ट</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q3_smith_jones" name="q3" value="smith_jones">
                        <label for="q3_smith_jones">स्मिथ & जोन्स</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q3_bambinos" name="q3" value="bambinos">
                        <label for="q3_bambinos">बंबिनोस</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q3_knorr" name="q3" value="knorr">
                        <label for="q3_knorr">नॉर्स</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q3_catch" name="q3" value="catch">
                        <label for="q3_catch">कैच</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q3_maggi" name="q3" value="maggi">
                        <label for="q3_maggi">मैगी मसाला-ए-मैजिक</label>
                    </div>
                    <div class="option" id="q3_yippee_option">
                        <input type="checkbox" id="q3_yippee" name="q3" value="yippee">
                        <label for="q3_yippee">यिप्पी! पास्ता मसाला</label>
                    </div>
                    <!-- YiPPee noodles option for cohort g -->
                    <div class="option" id="q3_yippee_noodles_option" style="display: none;">
                        <input type="checkbox" id="q3_yippee_noodles" name="q3" value="yippee_noodles">
                        <label for="q3_yippee_noodles">यिप्पी! नूडल्स</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q3_other" name="q3" value="other">
                        <label for="q3_other">अन्य</label>
                        <input type="text" class="other-input" placeholder="कृपया बताएं...">
                    </div>
                </div>
                <div class="error-message" id="q3-error"></div>
            </div>

            <!-- Question 4 (removed "कोई नहीं" option) -->
            <div class="question-container" data-question="4">
                <div class="question">4. वर्तमान में आप इनमें से कौन सा पास्ता मसाला बेचते हैं?</div>
                <div class="options">
                    <div class="option">
                        <input type="checkbox" id="q4_everest" name="q4" value="everest">
                        <label for="q4_everest">एवरेस्ट</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q4_smith_jones" name="q4" value="smith_jones">
                        <label for="q4_smith_jones">स्मिथ & जोन्स</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q4_bambinos" name="q4" value="bambinos">
                        <label for="q4_bambinos">बंबिनोस</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q4_knorr" name="q4" value="knorr">
                        <label for="q4_knorr">नॉर्स</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q4_catch" name="q4" value="catch">
                        <label for="q4_catch">कैच</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q4_maggi" name="q4" value="maggi">
                        <label for="q4_maggi">मैगी मसाला-ए-मैजिक</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q4_yippee" name="q4" value="yippee">
                        <label for="q4_yippee">यिप्पी! पास्ता मसाला</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q4_other" name="q4" value="other">
                        <label for="q4_other">अन्य</label>
                        <input type="text" class="other-input" placeholder="कृपया बताएं...">
                    </div>
                </div>
                <div class="error-message" id="q4-error"></div>
            </div>

            <!-- Question 5 (removed "कोई नहीं" option) -->
            <div class="question-container" data-question="5">
                <div class="question">5. आपने अब तक कौन सा पास्ता मसाला ब्रांड बेचना बंद कर दिया है?</div>
                <div class="options">
                    <div class="option">
                        <input type="checkbox" id="q5_everest" name="q5" value="everest">
                        <label for="q5_everest">एवरेस्ट</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q5_smith_jones" name="q5" value="smith_jones">
                        <label for="q5_smith_jones">स्मिथ & जोन्स</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q5_bambinos" name="q5" value="bambinos">
                        <label for="q5_bambinos">बंबिनोस</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q5_knorr" name="q5" value="knorr">
                        <label for="q5_knorr">नॉर्स</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q5_catch" name="q5" value="catch">
                        <label for="q5_catch">कैच</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q5_maggi" name="q5" value="maggi">
                        <label for="q5_maggi">मैगी मसाला-ए-मैजिक</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q5_yippee" name="q5" value="yippee">
                        <label for="q5_yippee">यिप्पी! पास्ता मसाला</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q5_other" name="q5" value="other">
                        <label for="q5_other">अन्य</label>
                        <input type="text" class="other-input" placeholder="कृपया बताएं...">
                    </div>
                </div>
                <div class="error-message" id="q5-error"></div>
            </div>

            <!-- Question 6 -->
            <div class="question-container" data-question="6">
                <div class="question">6. आप मुख्यतः कौन सा पास्ता मसाला ब्रांड बेचते हैं?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q6_everest" name="q6" value="एवरेस्ट">
                        <label for="q6_everest">एवरेस्ट</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q6_smith_jones" name="q6" value="स्मिथ & जोन्स">
                        <label for="q6_smith_jones">स्मिथ & जोन्स</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q6_bambinos" name="q6" value="बंबिनोस">
                        <label for="q6_bambinos">बंबिनोस</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q6_knorr" name="q6" value="नॉर्स">
                        <label for="q6_knorr">नॉर्स</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q6_catch" name="q6" value="कैच">
                        <label for="q6_catch">कैच</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q6_maggi" name="q6" value="मैगी मसाला-ए-मैजिक">
                        <label for="q6_maggi">मैगी मसाला-ए-मैजिक</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q6_yippee" name="q6" value="यिप्पी! पास्ता मसाला">
                        <label for="q6_yippee">यिप्पी! पास्ता मसाला</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q6_other" name="q6" value="अन्य">
                        <label for="q6_other">अन्य</label>
                        <input type="text" class="other-input" placeholder="कृपया बताएं...">
                    </div>
                </div>
                <div class="error-message" id="q6-error"></div>
            </div>

            <!-- Question 7 (Modified to show only numbers) -->
            <div class="question-container" data-question="7">
                <div class="question" id="q7-text">7. आप <span id="q7-brand">___</span> पास्ता मसाला की हर महीने कितनी बिक्री करते हैं?</div>
                <div class="options q7-options">
                    <div class="option">
                        <input type="radio" id="q7_very_low" name="q7" value="very_low">
                        <label for="q7_very_low">(1-2 लड़ी)</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q7_low" name="q7" value="low">
                        <label for="q7_low">(3-5 लड़ी)</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q7_medium" name="q7" value="medium">
                        <label for="q7_medium">(6-10 लड़ी)</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q7_high" name="q7" value="high">
                        <label for="q7_high">(11-15 लड़ी)</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q7_very_high" name="q7" value="very_high">
                        <label for="q7_very_high">(15+ लड़ी)</label>
                    </div>
                </div>
                <div class="error-message" id="q7-error"></div>
            </div>

            <!-- Question 8 (Dynamic) -->
            <div class="question-container" data-question="8">
                <div class="question" id="q8-text">8. <span id="q8-brand">___</span> पास्ता मसाला के लिए आपको कितना मार्जिन मिलता है?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q8_5_10" name="q8" value="5-10">
                        <label for="q8_5_10">5-10%</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q8_10_15" name="q8" value="10-15">
                        <label for="q8_10_15">10-15%</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q8_15_20" name="q8" value="15-20">
                        <label for="q8_15_20">15-20%</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q8_20_plus" name="q8" value="20+">
                        <label for="q8_20_plus">20% से अधिक</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q8_dont_know" name="q8" value="dont_know">
                        <label for="q8_dont_know">पता नहीं</label>
                    </div>
                </div>
                <div class="error-message" id="q8-error"></div>
            </div>

            <!-- Question 9 (Dynamic) -->
            <div class="question-container" data-question="9">
                <div class="question" id="q9-text">9. <span id="q9-brand">___</span> पास्ता मसाला की गुणवत्ता के बारे में आपकी क्या राय है?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q9_excellent" name="q9" value="excellent">
                        <label for="q9_excellent">बहुत अच्छी</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q9_good" name="q9" value="good">
                        <label for="q9_good">अच्छी</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q9_average" name="q9" value="average">
                        <label for="q9_average">सामान्य</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q9_poor" name="q9" value="poor">
                        <label for="q9_poor">खराब</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q9_very_poor" name="q9" value="very_poor">
                        <label for="q9_very_poor">बहुत खराब</label>
                    </div>
                </div>
                <div class="error-message" id="q9-error"></div>
            </div>

            <!-- YiPPee Aware Questions -->
            <div class="question-container" data-question="10">
                <div class="question">10. आपको यिप्पी! पास्ता मसाले के बारे में कैसे पता चला?</div>
                <div class="options">
                    <div class="option">
                        <input type="checkbox" id="q10_distributor" name="q10" value="distributor">
                        <label for="q10_distributor">डिस्ट्रीब्यूटर</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q10_wholesaler" name="q10" value="wholesaler">
                        <label for="q10_wholesaler">होलसेलर</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q10_sales_team" name="q10" value="sales_team">
                        <label for="q10_sales_team">सेल्स टीम</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q10_promo_event" name="q10" value="promo_event">
                        <label for="q10_promo_event">प्रमोशनल इवेंट</label>
                    </div>
                </div>
                <div class="error-message" id="q10-error"></div>
            </div>

            <div class="question-container" data-question="11">
                <div class="question">11. यिप्पी! पास्ता मसाला का खरीद रेट प्रति लड़ी क्या है?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q11_104_88" name="q11" value="104.88">
                        <label for="q11_104_88">₹ 104.88</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q11_103" name="q11" value="103">
                        <label for="q11_103">₹ 103</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q11_105_12" name="q11" value="105.12">
                        <label for="q11_105_12">₹ 105.12</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q11_110" name="q11" value="110">
                        <label for="q11_110">₹ 110</label>
                    </div>
                </div>
                <div class="error-message" id="q11-error"></div>
            </div>

            <div class="question-container" data-question="12">
                <div class="question">12. यिप्पी! पास्ता मसाला (एक यूनिट) का MRP क्या है?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q12_5" name="q12" value="5">
                        <label for="q12_5">₹5</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q12_6" name="q12" value="6">
                        <label for="q12_6">₹6</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q12_9" name="q12" value="9">
                        <label for="q12_9">₹9</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q12_10" name="q12" value="10">
                        <label for="q12_10">₹10</label>
                    </div>
                </div>
                <div class="error-message" id="q12-error"></div>
            </div>

            <!-- YiPPee Sellers Questions -->
            <div class="question-container" data-question="13">
                <div class="question">13. आपने यिप्पी! पास्ता मसाला क्यों रखा?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q13_good_rate" name="q13" value="good_rate">
                        <label for="q13_good_rate">अच्छा रेट / मार्जिन</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q13_sales_offer" name="q13" value="sales_offer">
                        <label for="q13_sales_offer">सेल्समैन ने बहुत अच्छा ऑफर दिया</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q13_branded" name="q13" value="branded">
                        <label for="q13_branded">यिप्पी! एक ब्रांडेड प्रोडक्ट है</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q13_demand" name="q13" value="demand">
                        <label for="q13_demand">उपभोक्ताओं ने इस उत्पाद की मांग की</label>
                    </div>
                </div>
                <div class="error-message" id="q13-error"></div>
            </div>

            <div class="question-container" data-question="14">
                <div class="question">14. पहली बार आपने कितनी लड़ी खरीदी थी?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q14_1" name="q14" value="1">
                        <label for="q14_1">1</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q14_2" name="q14" value="2">
                        <label for="q14_2">2</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q14_3" name="q14" value="3">
                        <label for="q14_3">3</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q14_more" name="q14" value="more_than_3">
                        <label for="q14_more">3 से ज़्यादा</label>
                    </div>
                </div>
                <div class="error-message" id="q14-error"></div>
            </div>

            <div class="question-container" data-question="15">
                <div class="question">15. पहली बार आपने कौन सा वैरिएंट खरीदा था?</div>
                <div class="variant-images">
                    <div class="variant-option" data-variant="blue">
                        <div class="variant-image" style="background: linear-gradient(45deg, #4a90e2, #357abd);">ब्लू</div>
                        <input type="radio" id="q15_blue" name="q15" value="blue" style="display: none;">
                        <label for="q15_blue">ब्लू</label>
                    </div>
                    <div class="variant-option" data-variant="red">
                        <div class="variant-image" style="background: linear-gradient(45deg, #e74c3c, #c0392b);">रेड</div>
                        <input type="radio" id="q15_red" name="q15" value="red" style="display: none;">
                        <label for="q15_red">रेड</label>
                    </div>
                    <div class="variant-option" data-variant="both">
                        <div class="variant-image" style="background: linear-gradient(45deg, #4a90e2, #e74c3c);">दोनों</div>
                        <input type="radio" id="q15_both" name="q15" value="both" style="display: none;">
                        <label for="q15_both">दोनों</label>
                    </div>
                </div>
                <div class="error-message" id="q15-error"></div>
            </div>

            <!-- Conditional Blue Variant Question -->
            <div class="question-container" data-question="15a">
                <div class="question">15a. आपने सिर्फ एक वैरिएंट ही क्यों खरीदा?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q15a_only_available" name="q15a" value="only_available">
                        <label for="q15a_only_available">सेल्समैन के पास सिर्फ एक ही वैरिएंट था</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q15a_cheesy_preference" name="q15a" value="cheesy_preference">
                        <label for="q15a_cheesy_preference">मेरे इलाके में कंज़्यूमर को चीज़ी पास्ता पसंद है</label>
                    </div>
                </div>
                <div class="error-message" id="q15a-error"></div>
            </div>

            <!-- Conditional Red Variant Question -->
            <div class="question-container" data-question="15b">
                <div class="question">15b. आपने सिर्फ एक वैरिएंट ही क्यों खरीदा?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q15b_only_available" name="q15b" value="only_available">
                        <label for="q15b_only_available">सेल्समैन के पास सिर्फ एक ही वैरिएंट था</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q15b_spicy_preference" name="q15b" value="spicy_preference">
                        <label for="q15b_spicy_preference">मेरे इलाके में कंज़्यूमर को तीखा पास्ता पसंद है</label>
                    </div>
                </div>
                <div class="error-message" id="q15b-error"></div>
            </div>

            <div class="question-container" data-question="16">
                <div class="question">16. आपने अपनी पहली YiPPee! पास्ता मसाला लड़ी कितनी जल्दी बेच दी?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q16_1_week" name="q16" value="1_week">
                        <label for="q16_1_week">1 हफ्ता</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q16_2_weeks" name="q16" value="2_weeks">
                        <label for="q16_2_weeks">2 हफ्ते</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q16_1_month" name="q16" value="1_month">
                        <label for="q16_1_month">1 महीना</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q16_more_month" name="q16" value="more_than_month">
                        <label for="q16_more_month">1 महीने से ज़्यादा</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q16_not_sold" name="q16" value="not_sold">
                        <label for="q16_not_sold">अभी तक पूरी नहीं बिकी है</label>
                    </div>
                </div>
                <div class="error-message" id="q16-error"></div>
            </div>

            <!-- Question 17 (Reorder frequency question) -->
            <div class="question-container" data-question="17">
                <div class="question">17. आप कितने दिन में YiPPee! पास्ता मसाला को दोबारा मंगवाते हैं?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q17_weekly" name="q17" value="weekly">
                        <label for="q17_weekly">हर हफ्ते</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q17_biweekly" name="q17" value="biweekly">
                        <label for="q17_biweekly">दो हफ्ते में एक बार</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q17_monthly" name="q17" value="monthly">
                        <label for="q17_monthly">हर महीने</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q17_no_reorder" name="q17" value="no_reorder">
                        <label for="q17_no_reorder">मैंने दोबारा ऑर्डर नहीं किया</label>
                    </div>
                </div>
                <div class="error-message" id="q17-error"></div>
            </div>

            <!-- Lapsers Questions -->
            <div class="question-container" data-question="18">
                <div class="question">18. आपने दोबारा ऑर्डर क्यों नहीं किया?</div>
                <div class="options">
                    <div class="option">
                        <input type="checkbox" id="q18_slow_sale" name="q18" value="slow_sale">
                        <label for="q18_slow_sale">बहुत धीरे बिकता है</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q18_hesitant" name="q18" value="hesitant">
                        <label for="q18_hesitant">ग्राहक इसे ट्राय करने से हिचकते हैं</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q18_no_repeat" name="q18" value="no_repeat">
                        <label for="q18_no_repeat">ग्राहक बार-बार नहीं खरीदते</label>
                    </div>
                    <div class="option">
                        <input type="checkbox" id="q18_other" name="q18" value="other">
                        <label for="q18_other">अन्य</label>
                        <input type="text" class="other-input" placeholder="कृपया बताएं...">
                    </div>
                </div>
                <div class="error-message" id="q18-error"></div>
            </div>

            <div class="question-container" data-question="19">
                <div class="question">19. क्या ग्राहकों को यह प्रोडक्ट पसंद आता है?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q19_yes" name="q19" value="yes">
                        <label for="q19_yes">हाँ</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q19_no_diff" name="q19" value="no_difference">
                        <label for="q19_no_diff">कोई खास फर्क नहीं पड़ता</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q19_no" name="q19" value="no">
                        <label for="q19_no">नहीं</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q19_dont_know" name="q19" value="dont_know">
                        <label for="q19_dont_know">मुझे नहीं पता</label>
                    </div>
                </div>
                <div class="error-message" id="q19-error"></div>
            </div>

            <div class="question-container" data-question="20">
                <div class="question">20. क्या आपको यह प्रोडक्ट पसंद है?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q20_good_demand" name="q20" value="good_demand">
                        <label for="q20_good_demand">हाँ, इसकी डिमांड अच्छी है</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q20_ok_slow" name="q20" value="ok_slow">
                        <label for="q20_ok_slow">ठीक है, लेकिन धीरे बिकता है</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q20_difficult" name="q20" value="difficult">
                        <label for="q20_difficult">नहीं, बेचना मुश्किल है</label>
                    </div>
                </div>
                <div class="error-message" id="q20-error"></div>
            </div>

            <!-- Aware but not selling Questions -->
            <div class="question-container" data-question="21">
                <div class="question">21. आपने YiPPee! पास्ता मसाला स्टॉक क्यों नहीं किया?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q21_not_available" name="q21" value="not_available">
                        <label for="q21_not_available">स्टॉक उपलब्ध नहीं था</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q21_low_demand" name="q21" value="low_demand">
                        <label for="q21_low_demand">इसकी मांग कम है</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q21_low_margin" name="q21" value="low_margin">
                        <label for="q21_low_margin">मार्जिन कम है</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q21_no_new" name="q21" value="no_new">
                        <label for="q21_no_new">मैं नए प्रोडक्ट्स ट्राय नहीं करता</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q21_no_contact" name="q21" value="no_contact">
                        <label for="q21_no_contact">ITC का सेल्समैन संपर्क में नहीं आया</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q21_bad_exp" name="q21" value="bad_experience">
                        <label for="q21_bad_exp">YiPPee! ब्रांड के साथ पहले का अनुभव अच्छा नहीं रहा है</label>
                    </div>
                </div>
                <div class="error-message" id="q21-error"></div>
            </div>

            <div class="question-container" data-question="22">
                <div class="question">22. क्या बात आपको इसे स्टॉक करने के लिए प्रेरित करेगी?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q22_better_margin" name="q22" value="better_margin">
                        <label for="q22_better_margin">बेहतर मार्जिन</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q22_more_demand" name="q22" value="more_demand">
                        <label for="q22_more_demand">ज़्यादा ग्राहक मांग</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q22_easy_stock" name="q22" value="easy_stock">
                        <label for="q22_easy_stock">आसानी से उपलब्ध स्टॉक</label>
                    </div>
                </div>
                <div class="error-message" id="q22-error"></div>
            </div>

            <!-- Question 23 (Stocking question with 14.4% margin) -->
            <div class="question-container" data-question="23">
                <div class="question">23. YiPPee! का एक पास्ता मसाला है जिसकी MRP ₹5 है और उस पर 14.4% मार्जिन है, क्या आप इसे स्टॉक करना चाहेंगे?</div>
                <div class="product-showcase">
                    <div style="background: linear-gradient(45deg, #ff6b6b, #4ecdc4); width: 150px; height: 100px; margin: 0 auto; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">YiPPee! पास्ता मसाला</div>
                    <p style="margin-top: 10px; font-weight: bold;">MRP: ₹5 | मार्जिन: 14.4%</p>
                </div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q23_yes" name="q23" value="yes">
                        <label for="q23_yes">हाँ</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q23_no" name="q23" value="no">
                        <label for="q23_no">नहीं</label>
                    </div>
                </div>
                <div class="error-message" id="q23-error"></div>
            </div>

            <!-- Question 24 (Follow-up for "no" answers) -->
            <div class="question-container" data-question="24">
                <div class="question">24. आप इसे स्टॉक करने के लिए किस वजह से प्रेरित होंगे?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="q24_better_margin" name="q24" value="better_margin">
                        <label for="q24_better_margin">बेहतर मार्जिन</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q24_more_demand" name="q24" value="more_demand">
                        <label for="q24_more_demand">ज़्यादा ग्राहक मांग</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q24_easy_stock" name="q24" value="easy_stock">
                        <label for="q24_easy_stock">आसानी से स्टॉक मिलना</label>
                    </div>
                </div>
                <div class="error-message" id="q24-error"></div>
            </div>

            <!-- Completion Message -->
            <div class="question-container" data-question="complete">
                <div class="completion-message">
                    <h2>🎉 धन्यवाद!</h2>
                    <p>आपने सफलतापूर्वक सर्वेक्षण पूरा कर लिया है। आपके जवाब हमारे लिए बहुत महत्वपूर्ण हैं।</p>
                    <p>आपके सहयोग के लिए धन्यवाद!</p>
                </div>
            </div>

            <!-- Navigation -->
            <div class="navigation">
                <button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()" style="display: none;">पिछला</button>
                <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()">अगला</button>
            </div>
        </div>
    </div>

    <script>
        let currentQuestion = 1;
        let totalQuestions = 24;
        let userResponses = {};
        let questionFlow = [];
        
        // Cohort assignment for YiPPee noodles option
        let cohort = Math.random() < 0.5 ? 'g' : 'h'; // 50% chance for cohort 'g'

        // Initialize survey
        function initializeSurvey() {
            updateProgress();
            document.getElementById('nextBtn').textContent = 'अगला';
            
            // Show YiPPee noodles option for cohort 'g'
            if (cohort === 'g') {
                document.getElementById('q3_yippee_noodles_option').style.display = 'flex';
            }
        }

        // Validation functions
        function validateQuestion(questionNum) {
            const questionContainer = document.querySelector(`[data-question="${questionNum}"]`);
            const inputs = questionContainer.querySelectorAll('input[type="checkbox"], input[type="radio"]');
            const errorElement = questionContainer.querySelector('.error-message');
            
            let isValid = false;
            let checkedInputs = [];

            inputs.forEach(input => {
                if (input.checked) {
                    checkedInputs.push(input);
                }
            });

            // Check if at least one option is selected
            if (checkedInputs.length > 0) {
                isValid = true;
                
                // Handle "other" input validation
                checkedInputs.forEach(input => {
                    if (input.value === 'other') {
                        const otherInput = input.parentElement.querySelector('.other-input');
                        if (otherInput && (!otherInput.value || otherInput.value.trim() === '')) {
                            isValid = false;
                        }
                    }
                });
            }

            if (!isValid) {
                errorElement.textContent = 'कृपया कम से कम एक विकल्प चुनें।';
                errorElement.style.display = 'block';
            } else {
                errorElement.style.display = 'none';
            }

            return isValid;
        }

        // Store user responses
        function storeResponse(questionNum) {
            const questionContainer = document.querySelector(`[data-question="${questionNum}"]`);
            const inputs = questionContainer.querySelectorAll('input[type="checkbox"], input[type="radio"]');
            
            userResponses[`q${questionNum}`] = [];
            
            inputs.forEach(input => {
                if (input.checked) {
                    let value = input.value;
                    if (value === 'other') {
                        const otherInput = input.parentElement.querySelector('.other-input');
                        value = otherInput ? otherInput.value : '';
                    }
                    userResponses[`q${questionNum}`].push(value);
                }
            });
        }

        // Determine next question based on logic
        function getNextQuestion(currentQ) {
            switch(currentQ) {
                case 1:
                    // Check if pasta masala is selected
                    if (!userResponses.q1 || !userResponses.q1.includes('pasta_masala')) {
                        return 'terminate';
                    }
                    return 2;
                
                case 2:
                    return 3;
                
                case 3:
                    return 4;
                
                case 4:
                    return 5;
                
                case 5:
                    return 6;
                
                case 6:
                    // Update Q7, Q8, Q9 with selected brand
                    const selectedBrand = userResponses.q6[0];
                    document.getElementById('q7-brand').textContent = selectedBrand;
                    document.getElementById('q8-brand').textContent = selectedBrand;
                    document.getElementById('q9-brand').textContent = selectedBrand;
                    return 7;
                
                case 7:
                    return 8;
                
                case 8:
                    return 9;
                
                case 9:
                    // Check if user is aware of YiPPee
                    const isYiPPeeAware = userResponses.q3 && (userResponses.q3.includes('yippee') || userResponses.q3.includes('yippee_noodles'));
                    const sellsYiPPee = userResponses.q4 && userResponses.q4.includes('yippee');
                    const soldYiPPee = userResponses.q5 && userResponses.q5.includes('yippee');
                    
                    if (isYiPPeeAware) {
                        return 10; // YiPPee aware questions
                    } else {
                        return 23; // Neither aware nor selling
                    }
                
                case 10:
                    return 11;
                
                case 11:
                    return 12;
                
                case 12:
                    const sellsYiPPeeQ4 = userResponses.q4 && userResponses.q4.includes('yippee');
                    const soldYiPPeeQ5 = userResponses.q5 && userResponses.q5.includes('yippee');
                    
                    if (sellsYiPPeeQ4 || soldYiPPeeQ5) {
                        return 13; // Sellers questions
                    } else {
                        return 21; // Aware but not selling
                    }
                
                case 13:
                    return 14;
                
                case 14:
                    return 15;
                
                case 15:
                    const selectedVariant = userResponses.q15[0];
                    if (selectedVariant === 'blue') {
                        return '15a';
                    } else if (selectedVariant === 'red') {
                        return '15b';
                    } else {
                        return 16;
                    }
                
                case '15a':
                case '15b':
                    return 16;
                
                case 16:
                    return 17;
                
                case 17:
                    // Check if they reorder or not
                    const reorders = userResponses.q17[0] !== 'no_reorder';
                    const isLapser = userResponses.q5 && userResponses.q5.includes('yippee');
                    
                    if (!reorders || isLapser) {
                        return 18; // Lapsers questions
                    } else {
                        return 'complete';
                    }
                
                case 18:
                    return 19;
                
                case 19:
                    return 20;
                
                case 20:
                    return 'complete';
                
                case 21:
                    return 22;
                
                case 22:
                    return 'complete';
                
                case 23:
                    // Check if they answered "no" to stocking question
                    const willStock = userResponses.q23[0] === 'yes';
                    if (willStock) {
                        return 'complete';
                    } else {
                        return 24; // Follow-up for "no" answers
                    }
                
                case 24:
                    return 'complete';
                
                default:
                    return 'complete';
            }
        }

        // Navigation functions
        function nextQuestion() {
            if (currentQuestion === 'terminate' || currentQuestion === 'complete') {
                return;
            }

            if (!validateQuestion(currentQuestion)) {
                return;
            }

            storeResponse(currentQuestion);
            
            const nextQ = getNextQuestion(currentQuestion);
            
            // Hide current question
            document.querySelector(`[data-question="${currentQuestion}"]`).classList.remove('active');
            
            // Show next question
            currentQuestion = nextQ;
            document.querySelector(`[data-question="${currentQuestion}"]`).classList.add('active');
            
            // Update navigation
            updateNavigation();
            updateProgress();
        }

        function previousQuestion() {
            // Implementation for previous question (simplified)
            if (currentQuestion > 1) {
                document.querySelector(`[data-question="${currentQuestion}"]`).classList.remove('active');
                currentQuestion--;
                document.querySelector(`[data-question="${currentQuestion}"]`).classList.add('active');
                updateNavigation();
                updateProgress();
            }
        }

        function updateNavigation() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            if (currentQuestion === 1) {
                prevBtn.style.display = 'none';
            } else if (currentQuestion !== 'terminate' && currentQuestion !== 'complete') {
                prevBtn.style.display = 'block';
            }
            
            if (currentQuestion === 'complete' || currentQuestion === 'terminate') {
                nextBtn.style.display = 'none';
            } else {
                nextBtn.style.display = 'block';
                nextBtn.textContent = 'अगला';
            }
        }

        function updateProgress() {
            let progress = 0;
            if (typeof currentQuestion === 'number') {
                progress = (currentQuestion / totalQuestions) * 100;
            } else if (currentQuestion === 'complete') {
                progress = 100;
            }
            
            document.getElementById('progressFill').style.width = progress + '%';
        }

        // Event listeners for options
        document.addEventListener('DOMContentLoaded', function() {
            initializeSurvey();
            
            // Handle option selection
            document.addEventListener('change', function(e) {
                if (e.target.type === 'checkbox' || e.target.type === 'radio') {
                    const option = e.target.closest('.option');
                    
                    // Handle "other" input visibility
                    if (e.target.value === 'other' && e.target.checked) {
                        const otherInput = option.querySelector('.other-input');
                        if (otherInput) {
                            otherInput.classList.add('show');
                        }
                    }
                    
                    // Handle exclusive options like "none"
                    if (e.target.name.includes('q1') && e.target.value === 'none' && e.target.checked) {
                        // Uncheck other options when "none" is selected
                        const otherInputs = document.querySelectorAll('input[name="q1"]');
                        otherInputs.forEach(input => {
                            if (input !== e.target) input.checked = false;
                        });
                    }
                    
                    // Update option styling
                    if (e.target.checked) {
                        option.classList.add('selected');
                    } else {
                        option.classList.remove('selected');
                        const otherInput = option.querySelector('.other-input');
                        if (otherInput) {
                            otherInput.classList.remove('show');
                        }
                    }
                }
            });
            
            // Handle variant selection
            document.addEventListener('click', function(e) {
                if (e.target.closest('.variant-option')) {
                    const variantOption = e.target.closest('.variant-option');
                    const variant = variantOption.dataset.variant;
                    const radio = document.getElementById(`q15_${variant}`);
                    
                    // Clear previous selections
                    document.querySelectorAll('.variant-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    document.querySelectorAll('input[name="q15"]').forEach(input => {
                        input.checked = false;
                    });
                    
                    // Select current option
                    variantOption.classList.add('selected');
                    radio.checked = true;
                }
            });
        });
    </script>
</body>
</html>
